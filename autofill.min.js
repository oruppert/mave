window.autofill=function(n,d,k){function f(a,c){for(var b=0;b<a.length;b++)c(a[b])}function g(a,c){c(a);f(a.children,function(b){g(b,c)})}function p(){var a={};if(null==location.search||1>=location.search.length)return a;f(location.search.substring(1).split("&"),function(c){var b=c.split("=",2);c=decodeURIComponent(b[0].replace(/\+/g," "));b=decodeURIComponent((b[1]||"").replace(/\+/g," "));a.hasOwnProperty(c)||(a[c]=b)});return a}function q(a,c){var b=new XMLHttpRequest;b.open("GET",a);b.onload=
function(){200!=b.status?("function"==typeof d&&d(b),"string"==typeof d&&(location=d)):c(JSON.parse(b.responseText))};b.send(null)}function r(a,c){var b=!1,e=a.replace(/{(.+?)}/g,function(a,e){if("location"==e)return b=!0,encodueURIComponent(location);if(!c.hasOwnProperty(e))return"";b=!0;return encodeURIComponent(c[e])});return b?e:null}function l(a,c){a.dataset.json=JSON.stringify(c);g(a,function(b){for(var a in b.dataset)if("source"!=a&&"json"!=a)if(c.hasOwnProperty(b.dataset[a]))b[a]=c[b.dataset[a]],
delete b.dataset[a];else{var d=r(b.dataset[a],c);null!=d&&(b[a]=d,delete b.dataset[a])}})}function h(){if(0==m.length)k&&k();else{var a=m.pop();if("params"==a.dataset.source)delete a.dataset.source,l(a,p()),h();else{var c=a.dataset.source+location.search;delete a.dataset.source;q(c,function(b){f(b,function(b){l(a.parentNode.insertBefore(a.cloneNode(!0),a),b)});a.parentNode.removeChild(a);h()})}}}var m=function(a,c){var b=[];g(a,function(a){c(a)&&b.push(a)});return b}(n,function(a){return a.dataset&&
a.dataset.source});h()};
