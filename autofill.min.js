window.autofill=function(f,d){function g(a,c){for(var b=0;b<a.length;b++)c(a[b])}function e(a,c){c(a);g(a.children,function(a){e(a,c)})}function h(a,c){var b=[];e(a,function(a){c(a)&&b.push(a)});return b}function n(a){return a.dataset&&a.dataset.json}function p(a,c){for(var b in a.dataset)if("source"!=b&&"json"!=b)if(c.hasOwnProperty(a.dataset[b]))a[b]=c[a.dataset[b]],delete a.dataset[b];else{var k=!1,d=a.dataset[b].replace(/{(.+?)}/g,function(a,b){if(!c.hasOwnProperty(b))return"";k=!0;return c[b]});
k&&(a[b]=d,delete a.dataset[b])}}function q(){for(var a=h(f,n);0<a.length;){var c=a.pop(),b=JSON.parse(c.dataset.json);delete c.dataset.json;g(b,function(a){var b=c.parentNode.insertBefore(c.cloneNode(!0),c);b.dataset.json=JSON.stringify(a);e(b,function(b){p(b,a)})});c.parentNode.removeChild(c)}}function l(){if(0==m.length)q();else{var a=m.pop(),c=a.dataset.source+location.search;delete a.dataset.source;var b=new XMLHttpRequest;b.open("GET",c);b.onload=function(){200!=b.status?("function"==typeof d&&
d(b),"string"==typeof d&&(location=d)):(a.dataset.json=b.responseText,l())};b.send(null)}}var m=h(f,function(a){return a.dataset&&a.dataset.source});l()};
