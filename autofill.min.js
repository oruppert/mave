window.autofill=function(f,d,g){function h(a,c){for(var b=0;b<a.length;b++)c(a[b])}function e(a,c){c(a);h(a.children,function(a){e(a,c)})}function k(a,c){var b=[];e(a,function(a){c(a)&&b.push(a)});return b}function p(a){return a.dataset&&a.dataset.json}function q(a,c){for(var b in a.dataset)if("source"!=b&&"json"!=b)if(c.hasOwnProperty(a.dataset[b]))a[b]=c[a.dataset[b]],delete a.dataset[b];else{var l=!1,d=a.dataset[b].replace(/{(.+?)}/g,function(a,b){if(!c.hasOwnProperty(b))return"";l=!0;return c[b]});
l&&(a[b]=d,delete a.dataset[b])}}function r(){for(var a=k(f,p);0<a.length;){var c=a.pop(),b=JSON.parse(c.dataset.json);delete c.dataset.json;h(b,function(a){var b=c.parentNode.insertBefore(c.cloneNode(!0),c);b.dataset.json=JSON.stringify(a);e(b,function(b){q(b,a)})});c.parentNode.removeChild(c)}g&&g()}function m(){if(0==n.length)r();else{var a=n.pop(),c=a.dataset.source+location.search;delete a.dataset.source;var b=new XMLHttpRequest;b.open("GET",c);b.onload=function(){200!=b.status?("function"==
typeof d&&d(b),"string"==typeof d&&(location=d)):(a.dataset.json=b.responseText,m())};b.send(null)}}var n=k(f,function(a){return a.dataset&&a.dataset.source});m()};
